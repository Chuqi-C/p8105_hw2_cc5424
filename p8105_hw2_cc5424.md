p8105_hw2_cc5424
================
ChuqiChen
2025-09-24

problem1

``` r
library(tidyverse)
```

    ## ── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
    ## ✔ dplyr     1.1.4     ✔ readr     2.1.5
    ## ✔ forcats   1.0.0     ✔ stringr   1.5.1
    ## ✔ ggplot2   3.5.2     ✔ tibble    3.3.0
    ## ✔ lubridate 1.9.4     ✔ tidyr     1.3.1
    ## ✔ purrr     1.1.0     
    ## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
    ## ✖ dplyr::filter() masks stats::filter()
    ## ✖ dplyr::lag()    masks stats::lag()
    ## ℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors

``` r
library(readxl)
library(haven)
```

``` r
pols_df = read_csv("./data1/pols-month.csv", 
                   na=c("NA","O",".") 
                   ) |>
  janitor::clean_names() |>
  separate(mon, into = c("year", "month_day"), sep = 4) |>
  separate(month_day, into = c("month", "day"), sep = 3) |>
  mutate(
    month = sub("-", "", month),
    day = sub("-", "", day),
    month_name = month.name[as.integer(month)], 
    president = case_when(
      prez_gop == 1 ~ "gop",
      prez_dem == 1 ~ "dem",
    )
  ) |>
  select(-prez_gop, -prez_dem, -day)
```

    ## Rows: 822 Columns: 9
    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## dbl  (8): prez_gop, gov_gop, sen_gop, rep_gop, prez_dem, gov_dem, sen_dem, r...
    ## date (1): mon
    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

``` r
pols_df
```

    ## # A tibble: 822 × 10
    ##    year  month gov_gop sen_gop rep_gop gov_dem sen_dem rep_dem month_name
    ##    <chr> <chr>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl> <chr>     
    ##  1 1947  01         23      51     253      23      45     198 January   
    ##  2 1947  02         23      51     253      23      45     198 February  
    ##  3 1947  03         23      51     253      23      45     198 March     
    ##  4 1947  04         23      51     253      23      45     198 April     
    ##  5 1947  05         23      51     253      23      45     198 May       
    ##  6 1947  06         23      51     253      23      45     198 June      
    ##  7 1947  07         23      51     253      23      45     198 July      
    ##  8 1947  08         23      51     253      23      45     198 August    
    ##  9 1947  09         23      51     253      23      45     198 September 
    ## 10 1947  10         23      51     253      23      45     198 October   
    ## # ℹ 812 more rows
    ## # ℹ 1 more variable: president <chr>

``` r
snp_df = read_csv("./data1/snp.csv", 
                   na=c("NA","O",".") 
                   ) |>
  janitor::clean_names() |>
  separate(date, into = c("year", "month", "day"), sep = "/") |>
  mutate(
    onth_name = month.name[as.integer(month)]
  )
```

    ## Rows: 787 Columns: 2
    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## chr (1): date
    ## dbl (1): close
    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

``` r
snp_df 
```

    ## # A tibble: 787 × 5
    ##    year  month day   close onth_name
    ##    <chr> <chr> <chr> <dbl> <chr>    
    ##  1 7     1     15    2080. January  
    ##  2 6     1     15    2063. January  
    ##  3 5     1     15    2107. January  
    ##  4 4     1     15    2086. January  
    ##  5 3     2     15    2068. February 
    ##  6 2     2     15    2104. February 
    ##  7 1     2     15    1995. February 
    ##  8 12    1     14    2059. January  
    ##  9 11    3     14    2068. March    
    ## 10 10    1     14    2018. January  
    ## # ℹ 777 more rows
